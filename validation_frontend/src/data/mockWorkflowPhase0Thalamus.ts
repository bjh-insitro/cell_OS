import { Workflow } from "../types/workflow";

export const mockWorkflowPhase0Thalamus: Workflow = {
    id: "PHASE0_THALAMUS",
    name: "Phase 0 Thalamus: A549 + Menadione Calibration",
    description: "Instrument calibration to nominate operating point for downstream POSH and Perturb-seq",
    owner: "Team",
    status: "in_progress",
    axes: [
        // Row 1: Reagent Prep
        {
            id: "prepare_menadione",
            kind: "stressor",
            name: "Prepare Menadione Stock",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "Menadione stock prepared, lot recorded",
            inputsRequired: "Menadione powder, DMSO",
            outputsPromised: "Menadione stock solution",
            tasks: [],
            xPosition: 10,
            yOffset: 0,
        },
        {
            id: "prepare_stain_panel",
            kind: "measurement",
            name: "Prepare 5-Channel Stain Panel",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "DAPI, AF488 (γ-H2AX), AF555 (WGA), AF568 (Phalloidin), AF647 (MitoProbe) ready",
            inputsRequired: "Stain reagents",
            outputsPromised: "Stain panel",
            tasks: [],
            xPosition: 200,
            yOffset: 0,
        },
        // Row 2: Cell Culture
        {
            id: "thaw_a549",
            kind: "cell_line",
            name: "Thaw A549 Cells",
            status: "ready",
            owner: "TBD",
            definitionOfDone: "A549 cells thawed and expanding",
            inputsRequired: "A549 vial",
            outputsPromised: "Expanding A549 culture",
            tasks: [],
            xPosition: 10,
            yOffset: 0,
        },
        {
            id: "expand_cells",
            kind: "cell_line",
            name: "Expand to Target Passage",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "Cells at target passage, batch ID recorded",
            inputsRequired: "Thawed A549 cells",
            outputsPromised: "Expanded A549 cells with passage info",
            dependencies: [
                { id: "d_thaw", label: "Thaw A549 Cells", status: "not_started", linkedAxisId: "thaw_a549" },
            ],
            tasks: [],
            xPosition: 200,
            yOffset: 0,
        },
        // Row 3: Plate Layout
        {
            id: "design_layouts",
            kind: "analysis",
            name: "Design Plate Layouts (Sentinels + Randomized)",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "3 randomized templates with fixed sentinel positions",
            inputsRequired: "Dose levels, well positions",
            outputsPromised: "Plate layout templates",
            tasks: [],
            xPosition: 10,
            yOffset: 0,
            customWidth: 320,
        },
        // Row 4: Passage 1
        {
            id: "p1_execute",
            kind: "measurement",
            name: "P1: Seed, Dose, Fix, Stain (3 plates)",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "Passage 1 plates processed at 24h and 48h",
            inputsRequired: "Expanded cells, menadione, stain panel, layouts",
            outputsPromised: "Fixed and stained P1 plates",
            dependencies: [
                { id: "d_cells", label: "Expand to Target Passage", status: "not_started", linkedAxisId: "expand_cells" },
                { id: "d_men", label: "Prepare Menadione Stock", status: "not_started", linkedAxisId: "prepare_menadione" },
                { id: "d_stain", label: "Prepare 5-Channel Stain Panel", status: "not_started", linkedAxisId: "prepare_stain_panel" },
                { id: "d_layout", label: "Design Plate Layouts", status: "not_started", linkedAxisId: "design_layouts" },
            ],
            tasks: [],
            xPosition: 400,
            yOffset: 0,
        },
        {
            id: "p1_image",
            kind: "measurement",
            name: "P1: Image (20x WF + 40x Phasics)",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "P1 plates imaged, metadata recorded",
            inputsRequired: "Fixed P1 plates",
            outputsPromised: "P1 raw images",
            dependencies: [
                { id: "d_p1_fix", label: "P1: Seed, Dose, Fix, Stain", status: "not_started", linkedAxisId: "p1_execute" },
            ],
            tasks: [],
            xPosition: 600,
            yOffset: 0,
        },
        // Passage P1 to P2
        {
            id: "passage_p1_p2",
            kind: "cell_line",
            name: "Passage Cells (P1→P2)",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "Cells passaged and ready for P2 experiments",
            inputsRequired: "P1 cell culture",
            outputsPromised: "P2 cell culture",
            dependencies: [
                { id: "d_p1_done", label: "P1 Imaging Complete", status: "not_started", linkedAxisId: "p1_image" },
            ],
            tasks: [],
            xPosition: 300,
            yOffset: 0,
        },
        // Row 5: Passage 2
        {
            id: "p2_execute",
            kind: "measurement",
            name: "P2: Seed, Dose, Fix, Stain (3 plates)",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "Passage 2 plates processed at 24h and 48h",
            inputsRequired: "P2 cells, menadione, stain panel, layouts",
            outputsPromised: "Fixed and stained P2 plates",
            dependencies: [
                { id: "d_cells2", label: "Passage Cells (P1→P2)", status: "not_started", linkedAxisId: "passage_p1_p2" },
                { id: "d_men2", label: "Prepare Menadione Stock", status: "not_started", linkedAxisId: "prepare_menadione" },
                { id: "d_stain2", label: "Prepare 5-Channel Stain Panel", status: "not_started", linkedAxisId: "prepare_stain_panel" },
                { id: "d_layout2", label: "Design Plate Layouts", status: "not_started", linkedAxisId: "design_layouts" },
            ],
            tasks: [],
            xPosition: 400,
            yOffset: 0,
        },
        {
            id: "p2_image",
            kind: "measurement",
            name: "P2: Image (20x WF + 40x Phasics)",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "P2 plates imaged, metadata recorded",
            inputsRequired: "Fixed P2 plates",
            outputsPromised: "P2 raw images",
            dependencies: [
                { id: "d_p2_fix", label: "P2: Seed, Dose, Fix, Stain", status: "not_started", linkedAxisId: "p2_execute" },
            ],
            tasks: [],
            xPosition: 600,
            yOffset: 0,
        },
        // Passage P2 to P3
        {
            id: "passage_p2_p3",
            kind: "cell_line",
            name: "Passage Cells (P2→P3)",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "Cells passaged and ready for P3 experiments",
            inputsRequired: "P2 cell culture",
            outputsPromised: "P3 cell culture",
            dependencies: [
                { id: "d_p2_done", label: "P2 Imaging Complete", status: "not_started", linkedAxisId: "p2_image" },
            ],
            tasks: [],
            xPosition: 300,
            yOffset: 0,
        },
        // Row 6: Passage 3
        {
            id: "p3_execute",
            kind: "measurement",
            name: "P3: Seed, Dose, Fix, Stain (3 plates)",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "Passage 3 plates processed at 24h and 48h",
            inputsRequired: "P3 cells, menadione, stain panel, layouts",
            outputsPromised: "Fixed and stained P3 plates",
            dependencies: [
                { id: "d_cells3", label: "Passage Cells (P2→P3)", status: "not_started", linkedAxisId: "passage_p2_p3" },
                { id: "d_men3", label: "Prepare Menadione Stock", status: "not_started", linkedAxisId: "prepare_menadione" },
                { id: "d_stain3", label: "Prepare 5-Channel Stain Panel", status: "not_started", linkedAxisId: "prepare_stain_panel" },
                { id: "d_layout3", label: "Design Plate Layouts", status: "not_started", linkedAxisId: "design_layouts" },
            ],
            tasks: [],
            xPosition: 400,
            yOffset: 0,
        },
        {
            id: "p3_image",
            kind: "measurement",
            name: "P3: Image (20x WF + 40x Phasics)",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "P3 plates imaged, metadata recorded",
            inputsRequired: "Fixed P3 plates",
            outputsPromised: "P3 raw images",
            dependencies: [
                { id: "d_p3_fix", label: "P3: Seed, Dose, Fix, Stain", status: "not_started", linkedAxisId: "p3_execute" },
            ],
            tasks: [],
            xPosition: 600,
            yOffset: 0,
        },
        // Row 7: Processing
        {
            id: "processing",
            kind: "analysis",
            name: "Stitch, QC, Extract Features (PyxCell3)",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "All wells stitched, QC passed, morphology features extracted",
            inputsRequired: "Raw images from all passages",
            outputsPromised: "Feature matrix",
            dependencies: [
                { id: "d_p1_img", label: "P1 Images", status: "not_started", linkedAxisId: "p1_image" },
                { id: "d_p2_img", label: "P2 Images", status: "not_started", linkedAxisId: "p2_image" },
                { id: "d_p3_img", label: "P3 Images", status: "not_started", linkedAxisId: "p3_image" },
            ],
            tasks: [],
            xPosition: 800,
            yOffset: 0,
            customWidth: 300,
        },
        // Row 8: Core Analyses
        {
            id: "analysis_signal_noise",
            kind: "analysis",
            name: "Analysis 1: Signal vs Noise",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "Stress shift exceeds technical variation",
            inputsRequired: "Feature matrix",
            outputsPromised: "Signal/noise assessment",
            dependencies: [
                { id: "d_proc1", label: "Processing", status: "not_started", linkedAxisId: "processing" },
            ],
            tasks: [],
            xPosition: 1000,
            yOffset: -60,
        },
        {
            id: "analysis_reproducibility",
            kind: "analysis",
            name: "Analysis 2: Reproducibility",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "Replicates cluster by condition not plate/day",
            inputsRequired: "Feature matrix",
            outputsPromised: "Reproducibility assessment",
            dependencies: [
                { id: "d_proc2", label: "Processing", status: "not_started", linkedAxisId: "processing" },
            ],
            tasks: [],
            xPosition: 1000,
            yOffset: -20,
        },
        {
            id: "analysis_viability",
            kind: "analysis",
            name: "Analysis 3: Viability Anchoring",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "Operating region identified",
            inputsRequired: "Feature matrix, viability data",
            outputsPromised: "Viability-morphology relationship",
            dependencies: [
                { id: "d_proc3", label: "Processing", status: "not_started", linkedAxisId: "processing" },
            ],
            tasks: [],
            xPosition: 1000,
            yOffset: 20,
        },
        {
            id: "analysis_sentinel",
            kind: "analysis",
            name: "Analysis 4: Sentinel SPC",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "Run stability confirmed via sentinels",
            inputsRequired: "Sentinel well data",
            outputsPromised: "SPC assessment",
            dependencies: [
                { id: "d_proc4", label: "Processing", status: "not_started", linkedAxisId: "processing" },
            ],
            tasks: [],
            xPosition: 1000,
            yOffset: 60,
        },
        // Row 9: Decision
        {
            id: "nominate_operating_point",
            kind: "analysis",
            name: "Nominate Dose + Timepoint",
            status: "not_started",
            owner: "TBD",
            definitionOfDone: "Single operating point selected, Phase 0 report complete",
            inputsRequired: "All 4 analyses",
            outputsPromised: "Nominated operating point, Phase 0 report",
            dependencies: [
                { id: "d_a1", label: "Signal vs Noise", status: "not_started", linkedAxisId: "analysis_signal_noise" },
                { id: "d_a2", label: "Reproducibility", status: "not_started", linkedAxisId: "analysis_reproducibility" },
                { id: "d_a3", label: "Viability Anchoring", status: "not_started", linkedAxisId: "analysis_viability" },
                { id: "d_a4", label: "Sentinel SPC", status: "not_started", linkedAxisId: "analysis_sentinel" },
            ],
            tasks: [],
            xPosition: 1200,
            yOffset: 0,
            customWidth: 250,
        },
    ],
};
