unit_ops:
  Diff1:
    name: "Coat_12well_plate_PDL_Laminin"
    layer: cell_prep
    description: "Double coat 12-well plate with PDL and Laminin 521"
    items:
      laminin_521:
        quantity: 60
      pdl:
        quantity: 0.625
      borate_buffer:
        quantity: 1.1
      plate_12well:
        quantity: 1
      dpbs:
        quantity: 20
    overhead:
      hood_time:
        cost_usd: 2.8

  Diff3:
    name: "Feed_iMicroglia_Day0_to_Day15"
    layer: cell_prep
    description: "Media and cytokines for one 12w well from day 0 to day 14"
    items:
      mtesr_plus_kit:
        quantity: 1
      adv_dmem_f12:
        quantity: 7
      revitacell:
        quantity: 0.01
      glutamax:
        quantity: 0.07
      doxycycline:
        quantity: 0.000008
      il34:
        quantity: 0.7
      gmcsf:
        quantity: 0.07
      mcsf:
        quantity: 0.3
      tgfb1:
        quantity: 0.3
      cx3cl1:
        quantity: 0.2
    overhead:
      hood_time:
        cost_usd: 14.0

  Diff5:
    name: "Bulk_RNA_seq_per_sample"
    layer: phenotyping
    description: "Bulk RNA-seq library prep and sequencing"
    items:
      bulk_rna_seq:
        quantity: 1





  W4_immortalized:
    name: "Freeze_WCB_10x1e6_immortalized"
    layer: cell_prep
    description: "Freeze 10 vials of immortalized cells"
    items:
      cryostor_cs10:
        quantity: 10
      micronic_tube:
        quantity: 10
    overhead:
      hood_time:
        cost_usd: 2.8

  W4_iPSC:
    name: "Freeze_WCB_10x1e6_iPSC"
    layer: cell_prep
    description: "Freeze 10 vials of iPSC"
    items:
      cryostor_cs10:
        quantity: 10
      micronic_tube:
        quantity: 10
    overhead:
      hood_time:
        cost_usd: 2.8

  # NGN2 Unit Ops
  NGN2_Coat:
    name: "Coat_12well_plate_PLO_Laminin"
    layer: cell_prep
    description: "Coat 12-well plate with PLO and Laminin"
    items:
      plo:
        quantity: 1.2  # 0.1 mg/mL * 1 mL/well * 12 wells = 1.2 mg
      laminin_521:
        quantity: 60   # 5 ug/mL * 1 mL/well * 12 wells = 60 ug
      plate_12well:
        quantity: 1
      dpbs:
        quantity: 20
    overhead:
      hood_time:
        cost_usd: 2.8

  # Flow Cytometry Unit Ops
  Flow_Prep_250k:
    name: "Grow_250k_Cells"
    layer: cell_prep
    description: "Seed and grow 250k cells (e.g. 24-well)"
    items:
      plate_6well: # Using 6-well as proxy for larger surface area/plastic cost
        quantity: 0.04 # 1/24 of a plate roughly, or just use cost equivalent
      dmem_high_glucose:
        quantity: 1.0 # 1 mL
      fbs:
        quantity: 0.1 # 10%
    overhead:
      hood_time:
        cost_usd: 0.5

  Flow_Prep_1M:
    name: "Grow_1M_Cells"
    layer: cell_prep
    description: "Seed and grow 1M cells (e.g. 6-well)"
    items:
      plate_6well:
        quantity: 0.16 # 1/6 of a plate
      dmem_high_glucose:
        quantity: 3.0 # 3 mL
      fbs:
        quantity: 0.3 # 10%
    overhead:
      hood_time:
        cost_usd: 1.0

  Flow_Live_Stain:
    name: "Flow_Stain_Live_Cells"
    layer: phenotyping
    description: "Harvest, Wash, Stain with DAPI/Antibody (250k cells)"
    items:
      plate_96_v_bottom:
        quantity: 0.01 # 1 plate per 96 samples
      dpbs:
        quantity: 20 # Wash steps (mL)
      facs_buffer_bsa:
        quantity: 0.1 # 1% BSA in PBS
      dapi:
        quantity: 0.001 # Trace
      flow_antibody_generic:
        quantity: 0.5 # 0.5 ug per test
    overhead:
      hood_time:
        cost_usd: 5.0 # 30 mins

  Flow_Fixed_Stain:
    name: "Flow_Stain_Fixed_Cells"
    layer: phenotyping
    description: "Harvest, Fix, Perm, Stain Intracellular (1M cells)"
    items:
      plate_96_v_bottom:
        quantity: 0.01
      dpbs:
        quantity: 30
      pfa_4pct:
        quantity: 0.5 # Increased for 1M cells
      triton_x100:
        quantity: 0.5 # Increased for 1M cells
      viability_dye_zombie:
        quantity: 1.0 # 1 test
      flow_antibody_generic:
        quantity: 2.0 # 2 ug per test (more cells = more Ab often needed)
    overhead:
      hood_time:
        cost_usd: 8.0 # 45 mins

  # Cloning Unit Ops (Outsourced)
  Outsource_Oligo_Syn:
    name: "Service_Oligo_Synthesis"
    layer: genetic_supply_chain
    description: "Order oligos/fragments"
    items:
      service_oligo_synthesis:
        quantity: 1
    overhead: {}

  Outsource_Cloning:
    name: "Service_Cloning_Assembly"
    layer: genetic_supply_chain
    description: "Vendor performs assembly"
    items:
      service_cloning:
        quantity: 1
    overhead: {}

  Outsource_NGS_QC:
    name: "Service_NGS_Verification"
    layer: genetic_supply_chain
    description: "Vendor performs NGS QC"
    items:
      service_ngs_verification:
        quantity: 1
    overhead: {}

  Outsource_Plasmid_Exp:
    name: "Service_Plasmid_Expansion"
    layer: genetic_supply_chain
    description: "Vendor performs Maxiprep"
    items:
      service_plasmid_expansion:
        quantity: 1
    overhead: {}

  # LV Production Unit Ops
  LV_Transfect:
    name: "HEK293T_Transfection_T175"
    layer: genetic_supply_chain
    description: "Transfect packaging mix + transfer plasmid"
    items:
      t175_flask:
        quantity: 1
      dmem_high_glucose:
        quantity: 25 # 25 mL
      fbs:
        quantity: 2.5 # 10%
      pei_transfection:
        quantity: 0.1 # 100 ug
    overhead:
      hood_time:
        cost_usd: 3.0

  LV_Harvest_Conc:
    name: "LV_Harvest_Concentrate"
    layer: genetic_supply_chain
    description: "Harvest supernatant and concentrate"
    items:
      lenti_x_concentrator:
        quantity: 8 # 1:3 ratio for ~25mL supe
      tube_50ml_conical:
        quantity: 1
    overhead:
      hood_time:
        cost_usd: 2.0

  LV_Titration:
    name: "LV_p24_Titration"
    layer: genetic_supply_chain
    description: "Measure titer via p24 ELISA"
    items:
      p24_elisa_kit:
        quantity: 0.04 # 1/24 of kit (duplicates + stds)
    overhead:
      hood_time:
        cost_usd: 1.0

  Flow_Acquisition:
    name: "Flow_Cytometer_Run"
    layer: phenotyping
    description: "Run samples on Cytometer"
    items:
      flow_tubes_5ml:
        quantity: 0 # Assuming plate loader, if tubes then 1
    overhead:
      instrument_usage:
        cost_usd: 5.0 # Per sample (time + sheath fluid):

  NGN2_Induction:
    name: "NGN2_Induction_Feed_12well"
    layer: cell_prep
    description: "Daily induction feed (DMEM/F12, N2, Dox, Puro) per well"
    items:
      adv_dmem_f12:
        quantity: 1
      n2_supp:
        quantity: 0.01 # 1:100
      glutamax:
        quantity: 0.01
      doxycycline:
        quantity: 0.000002 # 2 ug/mL * 1 mL = 2 ug = 0.000002 g
      puromycin:
        quantity: 0.001 # 1 ug/mL * 1 mL = 1 ug = 0.001 mg
    overhead:
      hood_time:
        cost_usd: 1.0

  NGN2_Replate:
    name: "NGN2_Replate_Harvest_Seed"
    layer: cell_prep
    description: "Harvest induced cells and replate onto coated plate"
    items:
      accutase:
        quantity: 1
      adv_dmem_f12:
        quantity: 5 # Wash/resuspend
    overhead:
      hood_time:
        cost_usd: 2.8

  NGN2_Maturation:
    name: "NGN2_Maturation_Feed_12well"
    layer: cell_prep
    description: "Maturation feed (Neurobasal, B27, N2, GFs) per well"
    items:
      neurobasal:
        quantity: 1
      b27_supp:
        quantity: 0.02 # 1:50
      n2_supp:
        quantity: 0.01 # 1:100
      glutamax:
        quantity: 0.01
      bdnf:
        quantity: 0.01 # 10 ng/mL * 1 mL = 10 ng = 0.01 ug
      gdnf:
        quantity: 0.01
      cntf:
        quantity: 0.01
    overhead:
      hood_time:
        cost_usd: 1.0

  # Generic Cell Culture Ops






  Cell_Freeze_10vials:
    name: "Freeze_10_Vials"
    layer: cell_prep
    description: "Harvest and freeze 10 vials"
    items:
      cryostor_cs10:
        quantity: 10
      micronic_tube:
        quantity: 10
      accutase:
        quantity: 5 # Harvest volume
    overhead:
      hood_time:
        cost_usd: 5.0

  D15:
    name: "Demultiplex_bulk_reads"
    layer: compute
    description: "Demultiplexing and initial QC of sequencing data"
    items: {}
    overhead:
      compute_time:
        cost_usd: 2.0
